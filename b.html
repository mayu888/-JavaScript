<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
<script>
  function LinkedList(){
  // 创建链表项
  function Node(element){
    this.element = element;
    this.next = null;
  }
  let head = null;
  let length = 0;

  this.append = (element) => {
    let node = new Node(element);
    let current;
    // 链表为空
    if(head===null){
      head = node;
    }else{
      current = head;
      // 循环遍历，直到找出链表最后一项
      while(current.next){
        current = current.next;
      }
      current.next = node;
    }
    length++
  }

  this.remove = (position) => {
    let current = head;
    let pre,index = 0;
    if(position>length) return null;
    if(position === 0){
      head = current.next;
    }else{
      while(index<position){
        pre = current;
        current = current.next;
        index++
      }
      pre.next = current.next;
    }
    length--;
    return current.element;
  }

  this.insert = (position,element) => {
    const node = new Node(element);
    if(position<0 && position>length) return false;
    let current = head;
    let index = 0;
    let pre;
    if(position === 0){
      node.next = head;
      head = node;
    }else{
      while(index<position){
        pre = current;
        current = current.next;
        index++
      }
      node.next = current;
      pre.next = node
    }
    length++
    return true;
  }

  this.toString = () => {
    let current = head;
    let string = '';
    while(current){
      string = string + current.element + (current.next?'->':'');
      current = current.next;
    }
    return string;
  }

  this.indexOf = (element) => {
    let current = head;
    let index = 0;
    while(index<length){
      if(current.element === element){
        return index
      }
      current = current.next;
      index++
    }
  }

  this.getHead = () => {
    return head
  }

}
const a = {a:1}
const b = {b:1}
const c = 1
const d = [1]
const list = new LinkedList()
list.append(a)
list.append(b)
list.append(c)
list.append(d)
const n = list.indexOf(d)
const str = list.toString()
console.log(n);



</script>
</body>
</html>